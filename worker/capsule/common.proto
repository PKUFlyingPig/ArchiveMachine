syntax = "proto3";

package capsule;

message Empty {}

message Error {
    int32 code = 1;
    string msg = 2;
}

message Url {
    string url = 1;
}

message Snapshot {
    bytes uuid = 1;
    bytes hash = 2;
    Url url = 3;
    uint64 timestamp = 4;
}

message SnapshotList {
    repeated Snapshot snapshots = 1;
}

message Content {
    Snapshot meta = 1;
    bytes data = 2;
}

message Endpoint {
    string addr = 1;
    uint32 port = 2;
}
